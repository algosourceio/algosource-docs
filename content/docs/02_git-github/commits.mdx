# Commit Messages

Your commit messages are documentation. Write them like you'll need to understand them in 6 months.

## The Anatomy of a Good Commit

```
<type>(<scope>): <subject>

<body>

<footer>
```

Example:

```
feat(auth): add password reset functionality

Implement the complete password reset flow including:
- Email verification endpoint
- Token generation and validation
- Password update endpoint

Users can now reset their password via email link.
The token expires after 24 hours for security.

Closes #234
```

## Commit Types

| Type | When to Use |
|------|-------------|
| `feat` | New feature |
| `fix` | Bug fix |
| `docs` | Documentation only |
| `style` | Formatting, missing semicolons |
| `refactor` | Code change that neither fixes bug nor adds feature |
| `test` | Adding or updating tests |
| `chore` | Maintenance tasks |

<Callout type="tip">
Many projects use Conventional Commits. Check if your project has specific commit guidelines in CONTRIBUTING.md.
</Callout>

## Writing the Subject Line

Rules for the subject:
- Max 50 characters
- Imperative mood ("add" not "added")
- No period at the end
- Capitalize first letter

```bash
# ❌ Bad
git commit -m "fixed the bug"
git commit -m "I added a new feature for user authentication."
git commit -m "stuff"

# ✅ Good
git commit -m "fix: resolve null pointer in user service"
git commit -m "feat: add OAuth2 authentication"
git commit -m "docs: update API reference for v2"
```

## Writing the Body

When to include a body:
- The change isn't obvious
- There's context others need
- You made design decisions

<Warning>
If you can't explain your change in 50 characters, you probably need to add a body with more context.
</Warning>

```bash
git commit -m "feat: add rate limiting" -m "
Implement token bucket algorithm for API rate limiting.
Each user gets 100 requests per minute.

Chose token bucket over fixed window because it handles
burst traffic better while maintaining fair limits.

Configuration is in config/rate-limit.yml"
```

## The Footer

Use the footer for:
- Issue references: `Closes #123`, `Fixes #456`
- Breaking changes: `BREAKING CHANGE: removed deprecated API`
- Co-authors: `Co-authored-by: Name <email>`

## Commit Frequency

<CardGrid>
<Card title="Too Few">
One massive commit with everything = hard to review, hard to revert
</Card>

<Card title="Just Right">
Logical, atomic commits = each commit does one thing
</Card>

<Card title="Too Many">
Hundreds of tiny commits = noisy history, hard to follow
</Card>
</CardGrid>

## Amending Commits

Made a mistake? Fix it before pushing:

```bash
# Add changes to last commit
git add .
git commit --amend

# Just change the message
git commit --amend -m "new message"
```

<Warning title="Only Before Pushing">
Never amend commits that you've already pushed, unless you're the only one working on the branch.
</Warning>

<Checklist>
<ChecklistItem>I use conventional commit format</ChecklistItem>
<ChecklistItem>My subject lines are under 50 characters</ChecklistItem>
<ChecklistItem>I use imperative mood ("add" not "added")</ChecklistItem>
<ChecklistItem>I add body for non-obvious changes</ChecklistItem>
<ChecklistItem>I reference issues in the footer</ChecklistItem>
</Checklist>

<NextStep 
  title="Syncing Fork with Upstream" 
  description="Keep your fork updated" 
  href="/docs/git-github/syncing" 
/>
